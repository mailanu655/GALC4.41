
------------------------------------------------
-- DDL Statements for Table "GALADM  "."MODEL_TYPE_HOLD_TBX"
------------------------------------------------
 
DROP TABLE "GALADM"."MODEL_TYPE_HOLD_TBX";

CREATE TABLE GALADM.MODEL_TYPE_HOLD_TBX (
PLAN_CODE VARCHAR(11) NOT NULL,
MODEL_YEAR_CODE CHAR(1) NOT NULL,
MODEL_CODE CHAR(3) NOT NULL,
MODEL_TYPE_CODE CHAR(3) NOT NULL,
PRODUCTION_LOT CHAR(20) NOT NULL,
KD_LOT_NUMBER  CHAR(18) NOT NULL,
CREATE_TIMESTAMP TIMESTAMP, 
UPDATE_TIMESTAMP TIMESTAMP
)

IN GALTBSREF12
  INDEX IN GALTBSIDX4;

COMMENT ON TABLE "GALADM"."MODEL_TYPE_HOLD_TBX" IS 'Model Type Hold';

-- DDL Statements for Primary Key on Table "GALADM  "."MODEL_TYPE_HOLD_TBX"

ALTER TABLE "GALADM"."MODEL_TYPE_HOLD_TBX" 
	ADD CONSTRAINT "MODEL_TYPE_HOLD_PK" PRIMARY KEY
		("PLAN_CODE", "MODEL_YEAR_CODE", "MODEL_CODE", "MODEL_TYPE_CODE");

-------------------------------
-- DDL Statements for Triggers
-------------------------------

SET SYSIBM.NLS_STRING_UNITS = 'SYSTEM';
SET CURRENT SCHEMA = "GALINST ";
SET CURRENT PATH = "SYSIBM","SYSFUN","SYSPROC","SYSIBMADM","GALINST";

DROP TRIGGER "GALADM"."MODEL_TYPE_HOLD_TR1";


CREATE TRIGGER GALADM.MODEL_TYPE_HOLD_TR1 NO CASCADE BEFORE INSERT ON GALADM.MODEL_TYPE_HOLD_TBX
REFERENCING NEW AS A FOR EACH ROW SET CREATE_TIMESTAMP = CURRENT_TIMESTAMP;

SET SYSIBM.NLS_STRING_UNITS = 'SYSTEM';
SET CURRENT SCHEMA = "GALINST ";
SET CURRENT PATH = "SYSIBM","SYSFUN","SYSPROC","SYSIBMADM","GALINST";

DROP TRIGGER "GALADM"."MODEL_TYPE_HOLD_TR2";


CREATE TRIGGER GALADM.MODEL_TYPE_HOLD_TR2 NO CASCADE BEFORE UPDATE ON GALADM.MODEL_TYPE_HOLD_TBX
REFERENCING NEW AS A FOR EACH ROW SET UPDATE_TIMESTAMP = CURRENT_TIMESTAMP;

------------------------------------------------
-- DDL Statements for Table "GALADM  "."QI_INCIDENT_TBX"
------------------------------------------------

DROP TRIGGER GALADM.QI_INCIDENT_TR1;
DROP TRIGGER GALADM.QI_INCIDENT_TR2;
DROP TABLE GALADM.QI_INCIDENT_TBX;

CREATE TABLE GALADM.QI_INCIDENT_TBX
(
	INCIDENT_ID INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY 
		  (START WITH 1, INCREMENT BY 1, NO CACHE, NO MINVALUE, NO MAXVALUE, NO CYCLE, NO ORDER) ,	
	INCIDENT_TITLE        VARCHAR(64),
	INCIDENT_DATE         TIMESTAMP,
	INCIDENT_CAUSE        VARCHAR(256),
	INCIDENT_TYPE         CHAR(16),
	DOCUMENT_CONTROL_TYPE VARCHAR(32),
	DOCUMENT_CONTROL_ID   VARCHAR(32),
	CREATE_TIMESTAMP      TIMESTAMP,
	UPDATE_TIMESTAMP      TIMESTAMP,
	CREATE_USER           CHAR(11),
	UPDATE_USER           CHAR(11) )
	IN GALTBSREF11 INDEX IN GALTBSIDX4 ;

COMMENT ON TABLE GALADM.QI_INCIDENT_TBX IS 'NAQ Incident CCC Tag';

CREATE UNIQUE INDEX GALADM.QI_INCIDENT_I1
  ON GALADM.QI_INCIDENT_TBX (INCIDENT_ID);
  
CREATE INDEX GALADM.QI_INCIDENT_I2
  ON GALADM.QI_INCIDENT_TBX (INCIDENT_TYPE);  
  
CREATE INDEX GALADM.QI_INCIDENT_I3
  ON GALADM.QI_INCIDENT_TBX (INCIDENT_DATE);    

ALTER TABLE GALADM.QI_INCIDENT_TBX 
	ADD CONSTRAINT QI_INCIDENT_PK PRIMARY KEY (INCIDENT_ID);
		
ALTER TABLE GALADM.QI_INCIDENT_TBX 
	ADD CONSTRAINT QI_INCIDENT_C1 CHECK 
		(CREATE_USER = UPPER(CREATE_USER));

ALTER TABLE GALADM.QI_INCIDENT_TBX  
	ADD CONSTRAINT QI_INCIDENT_C2 CHECK 
		(UPDATE_USER = UPPER(UPDATE_USER));
		
ALTER TABLE GALADM.QI_INCIDENT_TBX 
	ADD CONSTRAINT QI_INCIDENT_C3 CHECK 
		(INCIDENT_TYPE = UPPER(INCIDENT_TYPE));	

ALTER TABLE GALADM.QI_INCIDENT_TBX 
  DATA CAPTURE CHANGES
  PCTFREE 0
  LOCKSIZE ROW
  APPEND OFF
  NOT VOLATILE;

CREATE TRIGGER GALADM.QI_INCIDENT_TR1
  NO CASCADE BEFORE INSERT
  ON GALADM.QI_INCIDENT_TBX
  REFERENCING NEW AS A
  FOR EACH ROW
  SET CREATE_TIMESTAMP=CURRENT_TIMESTAMP;

CREATE TRIGGER GALADM.QI_INCIDENT_TR2
  NO CASCADE BEFORE UPDATE
  ON GALADM.QI_INCIDENT_TBX
  REFERENCING NEW AS A
  FOR EACH ROW
  SET UPDATE_TIMESTAMP=CURRENT_TIMESTAMP;
  
  -------------------------------------------------------------------
-- DDL Statements for Table "GALADM  "."QI_DEFECT_RESULT_HIST_TBX"
-------------------------------------------------------------------

DROP TRIGGER GALADM.QI_DEFECT_RESULT_HIST_TR1;
DROP TRIGGER GALADM.QI_DEFECT_RESULT_HIST_TR2;
DROP TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX;

CREATE TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX
(
	DEFECTRESULTID        INTEGER NOT NULL,
	CHANGE_TIMESTAMP      TIMESTAMP NOT NULL DEFAULT CURRENT TIMESTAMP,
	PRODUCT_ID            VARCHAR(17) NOT NULL,
	INSPECTION_PART_NAME  VARCHAR(32),
	INSPECTION_PART_LOCATION_NAME	VARCHAR(20),
	INSPECTION_PART_LOCATION2_NAME	VARCHAR(20),
	INSPECTION_PART2_NAME	VARCHAR(32),
	INSPECTION_PART2_LOCATION_NAME	VARCHAR(20),
	INSPECTION_PART2_LOCATION2_NAME	VARCHAR(20),
	INSPECTION_PART3_NAME	VARCHAR(32),
	DEFECT_TYPE_NAME	  VARCHAR(45),
	DEFECT_TYPE_NAME2	  VARCHAR(45),
	POINT_X               INTEGER,
	POINT_Y               INTEGER,
	IMAGE_NAME            VARCHAR(20),
	APPLICATION_ID        CHARACTER(16) NOT NULL,
	IQS_VERSION           CHAR(16),
	IQS_CATEGORY_NAME     CHARACTER(32),	
	IQS_QUESTION_NO       INTEGER,
	IQS_QUESTION          VARCHAR(256),
	THEME_NAME            VARCHAR(32),
	REPORTABLE            SMALLINT,
	ENTRY_MODEL           VARCHAR(32),	
	ENTRY_SCREEN		  VARCHAR(40),	
	RESPONSIBLE_SITE      CHAR(16),
	RESPONSIBLE_PLANT     CHAR(16),
	RESPONSIBLE_DEPT      VARCHAR(32),
	RESPONSIBLE_LEVEL3    VARCHAR(32),
	RESPONSIBLE_LEVEL2    VARCHAR(32),
	RESPONSIBLE_LEVEL1    VARCHAR(32),
	PROCESS_NUMBER        CHAR(8),
	PROCESS_NAME          VARCHAR(32),
	UNIT_NUMBER           CHAR(8),
	UNIT_DESC             VARCHAR(254),
	RESPONSIBLE_ASSOCIATE  CHAR(11),
	WRITE_UP_DEPARTMENT   VARCHAR(32),	
	ENTRY_SITE_NAME       CHAR(16),
	ENTRY_PLANT_NAME      CHAR(16),
	ENTRY_PROD_LINE_NO    SMALLINT,
	ENTRY_DEPT            VARCHAR(32),
	ACTUAL_TIMESTAMP      TIMESTAMP,
	PRODUCTION_DATE       DATE,	
	SHIFT                 CHARACTER(2),	
	TEAM                  VARCHAR(10),
	PRODUCT_TYPE          CHAR(10),
	PRODUCT_SPEC_CODE     VARCHAR(30),
	PRODUCTION_LOT		  VARCHAR(20),
	KD_LOT_NUMBER		  CHAR(18),
	AF_ON_SEQUENCE_NUMBER	INTEGER,
	DEFECT_CATEGORY_NAME	VARCHAR(32),
	BOM_MAIN_PART_NO      CHAR(5),
	ORIGINAL_DEFECT_STATUS  SMALLINT,
	CURRENT_DEFECT_STATUS  SMALLINT,
	REPAIR_AREA           VARCHAR(20),
	REPAIR_METHOD_NAME_PLAN  VARCHAR(64),
	REPAIR_TIME_PLAN      INTEGER,	
	LOCAL_THEME           CHAR(18),
	ENGINE_FIRING_FLAG	  SMALLINT,	
	DELETED               SMALLINT,
	GDP_DEFECT            SMALLINT,	
	TRPU_DEFECT           SMALLINT,	
	TERMINAL_NAME         CHARACTER(32),
	IS_REPAIR_RELATED 	  SMALLINT,
	INCIDENT_ID			  INTEGER,
	GROUP_TIMESTAMP       TIMESTAMP,
	COMMENT				  VARCHAR(256),
	CREATE_TIMESTAMP      TIMESTAMP,
	UPDATE_TIMESTAMP      TIMESTAMP,
	CREATE_USER           CHAR(11),
	UPDATE_USER           CHAR(11),
	CHANGE_USER           CHAR(11) )
	IN GALTBSREF11 INDEX IN GALTBSIDX4 ;

COMMENT ON TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX IS 'NAQ Defect Result History';

CREATE UNIQUE INDEX GALADM.QI_DEFECT_RESULT_HIST_I1
  ON GALADM.QI_DEFECT_RESULT_HIST_TBX (DEFECTRESULTID, CHANGE_TIMESTAMP);
  
CREATE INDEX GALADM.QI_DEFECT_RESULT_HIST_I2
  ON GALADM.QI_DEFECT_RESULT_HIST_TBX (PRODUCT_ID ASC);  
  
CREATE INDEX GALADM.QI_DEFECT_RESULT_HIST_I3
  ON GALADM.QI_DEFECT_RESULT_HIST_TBX (PRODUCT_ID ASC, ENTRY_DEPT ASC, CURRENT_DEFECT_STATUS ASC);    

CREATE INDEX GALADM.QI_DEFECT_RESULT_HIST_I4
  ON GALADM.QI_DEFECT_RESULT_HIST_TBX (PRODUCTION_DATE ASC, ENTRY_DEPT ASC, CURRENT_DEFECT_STATUS ASC, SHIFT ASC, PRODUCT_ID ASC);    

CREATE INDEX GALADM.QI_DEFECT_RESULT_HIST_I5
  ON GALADM.QI_DEFECT_RESULT_HIST_TBX (DEFECTRESULTID ASC, PRODUCT_ID ASC, ORIGINAL_DEFECT_STATUS ASC, ACTUAL_TIMESTAMP ASC);   
  
CREATE INDEX GALADM.QI_DEFECT_RESULT_HIST_I6
  ON GALADM.QI_DEFECT_RESULT_HIST_TBX (APPLICATION_ID ASC, PRODUCT_ID ASC, SHIFT ASC, PRODUCTION_DATE ASC);    
   
CREATE INDEX GALADM.QI_DEFECT_RESULT_HIST_I7
  ON GALADM.QI_DEFECT_RESULT_HIST_TBX (PRODUCTION_DATE ASC, ORIGINAL_DEFECT_STATUS ASC, APPLICATION_ID ASC, SHIFT ASC, PRODUCT_ID ASC);      
   
ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_PK PRIMARY KEY (DEFECTRESULTID, CHANGE_TIMESTAMP);
		
ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_C1 CHECK 
		(CREATE_USER = UPPER(CREATE_USER));

ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX  
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_C2 CHECK 
		(UPDATE_USER = UPPER(UPDATE_USER));
		
ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_C3 CHECK 
		(INSPECTION_PART_NAME = UPPER(INSPECTION_PART_NAME));	
		
ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_C4 CHECK 
		(INSPECTION_PART_LOCATION_NAME = UPPER(INSPECTION_PART_LOCATION_NAME));		

ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_C5 CHECK 
		(INSPECTION_PART_LOCATION2_NAME = UPPER(INSPECTION_PART_LOCATION2_NAME));		
		
ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_C6 CHECK 
		(INSPECTION_PART2_NAME = UPPER(INSPECTION_PART2_NAME));		
		
ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_C7 CHECK 
		(INSPECTION_PART2_LOCATION_NAME = UPPER(INSPECTION_PART2_LOCATION_NAME));	
		
ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_C8 CHECK 
		(INSPECTION_PART2_LOCATION2_NAME = UPPER(INSPECTION_PART2_LOCATION2_NAME));	
		
ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_C9 CHECK 
		(INSPECTION_PART3_NAME = UPPER(INSPECTION_PART3_NAME));	

ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_C10 CHECK 
		(DEFECT_TYPE_NAME = UPPER(DEFECT_TYPE_NAME));	
		
ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_C11 CHECK 
		(DEFECT_TYPE_NAME2 = UPPER(DEFECT_TYPE_NAME2));			

ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_C12 CHECK 
		(IMAGE_NAME = UPPER(IMAGE_NAME));		

ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_C13 CHECK 
		(THEME_NAME = UPPER(THEME_NAME));	
		
ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_C14 CHECK 
		(RESPONSIBLE_SITE = UPPER(RESPONSIBLE_SITE));		
		
ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_C15 CHECK 
		(RESPONSIBLE_PLANT = UPPER(RESPONSIBLE_PLANT));
		
ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_C16 CHECK 
		(RESPONSIBLE_DEPT = UPPER(RESPONSIBLE_DEPT));

ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_DEFECT_RESULT_HIST_C17 CHECK 
		(ENTRY_MODEL = UPPER(ENTRY_MODEL));			

ALTER TABLE GALADM.QI_DEFECT_RESULT_HIST_TBX 
  DATA CAPTURE CHANGES
  PCTFREE 0
  LOCKSIZE ROW
  APPEND OFF
  NOT VOLATILE;

CREATE TRIGGER GALADM.QI_DEFECT_RESULT_HIST_TR1
  NO CASCADE BEFORE INSERT
  ON GALADM.QI_DEFECT_RESULT_HIST_TBX
  REFERENCING NEW AS A
  FOR EACH ROW
  SET CREATE_TIMESTAMP=CURRENT_TIMESTAMP;

CREATE TRIGGER GALADM.QI_DEFECT_RESULT_HIST_TR2
  NO CASCADE BEFORE UPDATE
  ON GALADM.QI_DEFECT_RESULT_HIST_TBX
  REFERENCING NEW AS A
  FOR EACH ROW
  SET UPDATE_TIMESTAMP=CURRENT_TIMESTAMP;
  
  ------------------------------------------------
-- DDL Statements for Table "GALADM  "."QI_REPAIR_RESULT_HIST_TBX"
------------------------------------------------

DROP TRIGGER GALADM.QI_REPAIR_RESULT_HIST_TR1;
DROP TRIGGER GALADM.QI_REPAIR_RESULT_HIST_TR2;
DROP TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX;

CREATE TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX
(
	REPAIR_ID 			  INTEGER NOT NULL,	
	CHANGE_TIMESTAMP	  TIMESTAMP NOT NULL WITH DEFAULT CURRENT TIMESTAMP,  
	DEFECTRESULTID        INTEGER NOT NULL,
	ACTUAL_PROBLEM_SEQ	  SMALLINT NOT NULL,		  
	PRODUCT_ID            VARCHAR(17) NOT NULL,
	INSPECTION_PART_NAME  VARCHAR(32),
	INSPECTION_PART_LOCATION_NAME	VARCHAR(20),
	INSPECTION_PART_LOCATION2_NAME	VARCHAR(20),
	INSPECTION_PART2_NAME	VARCHAR(32),
	INSPECTION_PART2_LOCATION_NAME	VARCHAR(20),
	INSPECTION_PART2_LOCATION2_NAME	VARCHAR(20),
	INSPECTION_PART3_NAME	VARCHAR(32),
	DEFECT_TYPE_NAME	  VARCHAR(45),
	DEFECT_TYPE_NAME2	  VARCHAR(45),
	POINT_X               INTEGER,
	POINT_Y               INTEGER,
	IMAGE_NAME            VARCHAR(20),
	APPLICATION_ID        CHARACTER(16) NOT NULL,
	IQS_VERSION           CHAR(16),
	IQS_CATEGORY_NAME     CHARACTER(32),	
	IQS_QUESTION_NO       INTEGER,
	IQS_QUESTION          VARCHAR(256),
	THEME_NAME            VARCHAR(32),
	REPORTABLE            SMALLINT,
	ENTRY_MODEL           VARCHAR(32),	
	ENTRY_SCREEN		  VARCHAR(40),
	RESPONSIBLE_SITE      CHAR(16),
	RESPONSIBLE_PLANT     CHAR(16),
	RESPONSIBLE_DEPT      VARCHAR(32),
	RESPONSIBLE_LEVEL3    VARCHAR(32),
	RESPONSIBLE_LEVEL2    VARCHAR(32),
	RESPONSIBLE_LEVEL1    VARCHAR(32),
	PROCESS_NUMBER        CHAR(8),
	PROCESS_NAME          VARCHAR(32),
	UNIT_NUMBER           CHAR(8),
	UNIT_DESC             VARCHAR(254),
	RESPONSIBLE_ASSOCIATE  CHAR(11),
	WRITE_UP_DEPARTMENT   VARCHAR(32),	
	ENTRY_SITE_NAME       CHAR(16),
	ENTRY_PLANT_NAME      CHAR(16),
	ENTRY_PROD_LINE_NO    SMALLINT,
	ENTRY_DEPT            VARCHAR(32),
	ACTUAL_TIMESTAMP      TIMESTAMP,
	PRODUCTION_DATE       DATE,	
	SHIFT                 CHARACTER(2),	
	TEAM                  VARCHAR(10),
	PRODUCT_TYPE          CHAR(10),
	PRODUCT_SPEC_CODE     VARCHAR(30),
	PRODUCTION_LOT		  VARCHAR(20),
	KD_LOT_NUMBER		  CHAR(18),
	AF_ON_SEQUENCE_NUMBER	INTEGER,
	DEFECT_CATEGORY_NAME	VARCHAR(32),
	BOM_MAIN_PART_NO      CHAR(5),
	ORIGINAL_DEFECT_STATUS  SMALLINT,
	CURRENT_DEFECT_STATUS  SMALLINT,
	REPAIR_AREA           VARCHAR(20),
	REPAIR_METHOD_NAME_PLAN  VARCHAR(64),
	REPAIR_TIME_PLAN      INTEGER,	
	LOCAL_THEME           CHAR(18),
	ENGINE_FIRING_FLAG	  SMALLINT,
	DELETED               SMALLINT,
	GDP_DEFECT            SMALLINT,	
	TRPU_DEFECT           SMALLINT,	
	TERMINAL_NAME         CHARACTER(32),
	IS_REPAIR_RELATED 	  SMALLINT,
	INCIDENT_ID			  INTEGER,
	GROUP_TIMESTAMP       TIMESTAMP,
	COMMENT				  VARCHAR(256),
	CREATE_TIMESTAMP      TIMESTAMP,
	UPDATE_TIMESTAMP      TIMESTAMP,
	CREATE_USER           CHAR(11),
	UPDATE_USER           CHAR(11),
	CHANGE_USER           CHAR(11) )
	IN GALTBSREF11 INDEX IN GALTBSIDX4 ;

COMMENT ON TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX IS 'NAQ Repair Result History';

CREATE UNIQUE INDEX GALADM.QI_REPAIR_RESULT_HIST_I1
  ON GALADM.QI_REPAIR_RESULT_HIST_TBX (REPAIR_ID, CHANGE_TIMESTAMP);
  
CREATE INDEX GALADM.QI_REPAIR_RESULT_HIST_I2
  ON GALADM.QI_REPAIR_RESULT_HIST_TBX (DEFECTRESULTID ASC);  
  
CREATE INDEX GALADM.QI_REPAIR_RESULT_HIST_I3
  ON GALADM.QI_REPAIR_RESULT_HIST_TBX (PRODUCT_ID ASC);  
  
CREATE INDEX GALADM.QI_REPAIR_RESULT_HIST_I4
  ON GALADM.QI_REPAIR_RESULT_HIST_TBX (PRODUCT_ID ASC, ENTRY_DEPT ASC, CURRENT_DEFECT_STATUS ASC);    

CREATE INDEX GALADM.QI_REPAIR_RESULT_HIST_I5
  ON GALADM.QI_REPAIR_RESULT_HIST_TBX (PRODUCTION_DATE ASC, ENTRY_DEPT ASC, CURRENT_DEFECT_STATUS ASC, SHIFT ASC, PRODUCT_ID ASC);    

CREATE INDEX GALADM.QI_REPAIR_RESULT_HIST_I6
  ON GALADM.QI_REPAIR_RESULT_HIST_TBX (DEFECTRESULTID ASC, PRODUCT_ID ASC, ORIGINAL_DEFECT_STATUS ASC, ACTUAL_TIMESTAMP ASC);   
  
CREATE INDEX GALADM.QI_REPAIR_RESULT_HIST_I7
  ON GALADM.QI_REPAIR_RESULT_HIST_TBX (APPLICATION_ID ASC, PRODUCT_ID ASC, SHIFT ASC, PRODUCTION_DATE ASC);    
   
CREATE INDEX GALADM.QI_REPAIR_RESULT_HIST_I8
  ON GALADM.QI_REPAIR_RESULT_HIST_TBX (PRODUCTION_DATE ASC, ORIGINAL_DEFECT_STATUS ASC, APPLICATION_ID ASC, SHIFT ASC, PRODUCT_ID ASC);      
   
ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_PK PRIMARY KEY (REPAIR_ID, CHANGE_TIMESTAMP);
		
ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_C1 CHECK 
		(CREATE_USER = UPPER(CREATE_USER));

ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX  
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_C2 CHECK 
		(UPDATE_USER = UPPER(UPDATE_USER));
		
ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_C3 CHECK 
		(INSPECTION_PART_NAME = UPPER(INSPECTION_PART_NAME));	
		
ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_C4 CHECK 
		(INSPECTION_PART_LOCATION_NAME = UPPER(INSPECTION_PART_LOCATION_NAME));		

ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_C5 CHECK 
		(INSPECTION_PART_LOCATION2_NAME = UPPER(INSPECTION_PART_LOCATION2_NAME));		
		
ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_C6 CHECK 
		(INSPECTION_PART2_NAME = UPPER(INSPECTION_PART2_NAME));		
		
ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_C7 CHECK 
		(INSPECTION_PART2_LOCATION_NAME = UPPER(INSPECTION_PART2_LOCATION_NAME));	
		
ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_C8 CHECK 
		(INSPECTION_PART2_LOCATION2_NAME = UPPER(INSPECTION_PART2_LOCATION2_NAME));	
		
ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_C9 CHECK 
		(INSPECTION_PART3_NAME = UPPER(INSPECTION_PART3_NAME));	

ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_C10 CHECK 
		(DEFECT_TYPE_NAME = UPPER(DEFECT_TYPE_NAME));	
		
ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_C11 CHECK 
		(DEFECT_TYPE_NAME2 = UPPER(DEFECT_TYPE_NAME2));			

ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_C12 CHECK 
		(IMAGE_NAME = UPPER(IMAGE_NAME));		

ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_C13 CHECK 
		(THEME_NAME = UPPER(THEME_NAME));	
		
ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_C14 CHECK 
		(RESPONSIBLE_SITE = UPPER(RESPONSIBLE_SITE));		
		
ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_C15 CHECK 
		(RESPONSIBLE_PLANT = UPPER(RESPONSIBLE_PLANT));
		
ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_C16 CHECK 
		(RESPONSIBLE_DEPT = UPPER(RESPONSIBLE_DEPT));

ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
	ADD CONSTRAINT QI_REPAIR_RESULT_HIST_C17 CHECK 
		(ENTRY_MODEL = UPPER(ENTRY_MODEL));			

ALTER TABLE GALADM.QI_REPAIR_RESULT_HIST_TBX 
  DATA CAPTURE CHANGES
  PCTFREE 0
  LOCKSIZE ROW
  APPEND OFF
  NOT VOLATILE;

CREATE TRIGGER GALADM.QI_REPAIR_RESULT_HIST_TR1
  NO CASCADE BEFORE INSERT
  ON GALADM.QI_REPAIR_RESULT_HIST_TBX
  REFERENCING NEW AS A
  FOR EACH ROW
  SET CREATE_TIMESTAMP=CURRENT_TIMESTAMP;

CREATE TRIGGER GALADM.QI_REPAIR_RESULT_HIST_TR2
  NO CASCADE BEFORE UPDATE
  ON GALADM.QI_REPAIR_RESULT_HIST_TBX
  REFERENCING NEW AS A
  FOR EACH ROW
  SET UPDATE_TIMESTAMP=CURRENT_TIMESTAMP;
  
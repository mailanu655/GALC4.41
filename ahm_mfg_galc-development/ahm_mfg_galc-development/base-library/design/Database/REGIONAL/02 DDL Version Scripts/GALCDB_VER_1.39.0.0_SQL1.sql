drop table GALADM.GAL313TBX;

CREATE TABLE GALADM.GAL313TBX  (
                  PURCHASE_CONTRACT_ID
                   BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (
                    START WITH +0  
                    INCREMENT BY +1  
                    MINVALUE +1  
                    MAXVALUE +2147483647  
                    NO CYCLE  
                    NO CACHE  
                    NO ORDER ) ,
		  SUBS_CODE CHAR(2) NOT NULL WITH DEFAULT ' ' , 
		  SHIPPER CHAR(3) NOT NULL WITH DEFAULT ' ' , 
		  PURCHASE_CONTRACT_NUMBER CHAR(7) NOT NULL WITH DEFAULT ' ' , 
		  INVOICE_SEQUENCE_NUMBER INTEGER WITH DEFAULT 0 , 
		  SALES_MODEL_CODE CHAR(10) NOT NULL WITH DEFAULT ' ' , 
		  SALES_MODEL_TYPE_CODE CHAR(2) NOT NULL WITH DEFAULT ' ' , 
		  SALES_MODEL_OPTION_CODE CHAR(3) NOT NULL WITH DEFAULT ' ' , 
		  SALES_EXT_COLOR_CODE CHAR(10) NOT NULL WITH DEFAULT ' ' , 
		  SALES_INT_COLOR_CODE CHAR(2) NOT NULL WITH DEFAULT ' ' , 
		  CURRENCY CHAR(3) NOT NULL WITH DEFAULT ' ' , 
		  CURRENCY_SETTLEMENT CHAR(3) NOT NULL WITH DEFAULT ' ' , 
		  ORDER_UNIT INTEGER WITH DEFAULT 0 , 
		  SHIP_UNIT INTEGER WITH DEFAULT 0 , 
		  PRODUCT_GROUP_CODE CHAR(1) NOT NULL WITH DEFAULT ' ' , 
		  DELIVERY_FORM_CODE CHAR(1) NOT NULL WITH DEFAULT ' ' , 
		  RECEIVE_DATE DATE NOT NULL WITH DEFAULT CURRENT DATE , 
		  SHIP_DATE DATE , 
		  CREATE_TIMESTAMP TIMESTAMP , 
		  UPDATE_TIMESTAMP TIMESTAMP )   
		 IN GALTBSREF12 INDEX IN GALTBSIDX4 ; 

COMMENT ON TABLE GALADM  .GAL313TBX IS 'Purchase Contract';

ALTER TABLE GALADM.GAL313TBX ADD CONSTRAINT GAL313_PK PRIMARY KEY (PURCHASE_CONTRACT_ID);

CREATE TRIGGER GALADM.GAL313TR1 
 BEFORE INSERT 
 ON GALADM.GAL313TBX 
 REFERENCING  NEW AS A 
 FOR EACH ROW MODE DB2SQL 
 SET CREATE_TIMESTAMP=CURRENT_TIMESTAMP;

CREATE TRIGGER GALADM.GAL313TR2 
 BEFORE UPDATE 
 ON  GALADM.GAL313TBX 
 REFERENCING  NEW AS A 
 FOR EACH ROW MODE DB2SQL 
 SET UPDATE_TIMESTAMP=CURRENT_TIMESTAMP;

DROP TRIGGER GALADM.PARTS_LOADING_MAINTENANCE_TR2;
DROP TRIGGER GALADM.PARTS_LOADING_MAINTENANCE_TR1;
DROP TABLE GALADM.PARTS_LOADING_MAINTENANCE_TBX;

CREATE TABLE GALADM.PARTS_LOADING_MAINTENANCE_TBX (
  ID INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY
       (START WITH 1, INCREMENT BY 1, NO CACHE, NO MINVALUE, NO MAXVALUE, NO CYCLE, NO ORDER),
  PROCESS_POINT_ID CHARACTER(16) NOT NULL,
  BIN_NAME CHARACTER(32) NOT NULL,
  PART_NAME CHARACTER(32) NOT NULL,
  PART_SPEC_ID CHARACTER(5) NOT NULL,
  CREATE_TIMESTAMP TIMESTAMP,
  UPDATE_TIMESTAMP TIMESTAMP)
  IN GALTBSDAT10 INDEX IN GALTBSIDX3;

CREATE UNIQUE INDEX GALADM.PARTS_LOADING_MAINTENANCE_I1 ON GALADM.PARTS_LOADING_MAINTENANCE_TBX
        (ID ASC) ALLOW REVERSE SCANS;

ALTER TABLE GALADM.PARTS_LOADING_MAINTENANCE_TBX ADD CONSTRAINT PARTS_LOADING_MAINTENANCE_PK PRIMARY KEY (ID);

ALTER TABLE GALADM.PARTS_LOADING_MAINTENANCE_TBX
  DATA CAPTURE CHANGES
  PCTFREE 0
  LOCKSIZE ROW
  APPEND OFF
  NOT VOLATILE;

COMMENT ON TABLE GALADM.PARTS_LOADING_MAINTENANCE_TBX IS
   'RMT Table for Bulk Part Tracking';

CREATE TRIGGER GALADM.PARTS_LOADING_MAINTENANCE_TR1
   NO CASCADE BEFORE INSERT
   ON GALADM.PARTS_LOADING_MAINTENANCE_TBX
   REFERENCING NEW AS A
   FOR EACH ROW
SET CREATE_TIMESTAMP = CURRENT_TIMESTAMP;

CREATE TRIGGER GALADM.PARTS_LOADING_MAINTENANCE_TR2
   NO CASCADE BEFORE UPDATE
   ON GALADM.PARTS_LOADING_MAINTENANCE_TBX
   REFERENCING NEW AS A
   FOR EACH ROW
SET UPDATE_TIMESTAMP = CURRENT_TIMESTAMP;

DROP TRIGGER GALADM.PARTS_LOADING_HISTORY_TR2;
DROP TRIGGER GALADMP.PARTS_LOADING_HISTORY_TR1;
DROP TABLE GALADM.PARTS_LOADING_HISTORY_TBX;

CREATE TABLE GALADM.PARTS_LOADING_HISTORY_TBX (
  ID INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY
       (START WITH 1, INCREMENT BY 1, NO CACHE, NO MINVALUE, NO MAXVALUE, NO CYCLE, NO ORDER),
  PROCESS_POINT_ID CHARACTER(16) NOT NULL,
  PART_NAME CHARACTER(32) NOT NULL,
  PART_NUMBER CHARACTER(32) NOT NULL,
  PARTS_CONTAINER_SERIAL_NUMBER VARCHAR(255),
  PARTS_LOADING_STATUS INTEGER,
  ASSOCIATE_ID CHARACTER(11),
  ACTUAL_TIMESTAMP TIMESTAMP NOT NULL,
  CREATE_TIMESTAMP TIMESTAMP,
  UPDATE_TIMESTAMP TIMESTAMP)
  IN GALTBSDAT10 INDEX IN GALTBSIDX3;

CREATE UNIQUE INDEX GALADM.PARTS_LOADING_HISTORY_I1 ON GALADM.PARTS_LOADING_HISTORY_TBX
        (ID ASC) ALLOW REVERSE SCANS;

ALTER TABLE GALADM.PARTS_LOADING_HISTORY_TBX ADD CONSTRAINT PARTS_LOADING_HISTORY_PK PRIMARY KEY (ID);

ALTER TABLE GALADM.PARTS_LOADING_HISTORY_TBX
  DATA CAPTURE CHANGES
  PCTFREE 0
  LOCKSIZE ROW
  APPEND OFF
  NOT VOLATILE;

COMMENT ON TABLE GALADM.PARTS_LOADING_HISTORY_TBX IS
   'RMT Table for recording what parts where placed in what bin for bulk part tracking';


CREATE TRIGGER GALADM.PARTS_LOADING_HISTORY_TR1
   NO CASCADE BEFORE INSERT
   ON GALADM.PARTS_LOADING_HISTORY_TBX
   REFERENCING NEW AS A
   FOR EACH ROW
SET CREATE_TIMESTAMP = CURRENT_TIMESTAMP;

CREATE TRIGGER GALADM.PARTS_LOADING_HISTORY_TR2
   NO CASCADE BEFORE UPDATE
   ON GALADM.PARTS_LOADING_HISTORY_TBX
   REFERENCING NEW AS A
   FOR EACH ROW
SET UPDATE_TIMESTAMP = CURRENT_TIMESTAMP;


------------------------------------------------
-- DDL Statements for Table "GALADM  "."KICKOUT_TBX"
------------------------------------------------

DROP TABLE "GALADM  "."KICKOUT_TBX";


CREATE TABLE "GALADM  "."KICKOUT_TBX"  (
                  "KICKOUT_ID" BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (
                    START WITH +1
                    INCREMENT BY +1
                    MINVALUE +1
                    MAXVALUE +9223372036854775807
                    NO CYCLE
                    CACHE 20
                    NO ORDER ) ,
                  "PRODUCT_ID" VARCHAR(17) NOT NULL ,
                  "PRODUCT_TYPE" VARCHAR(10) NOT NULL WITH DEFAULT '' ,
                  "DESCRIPTION" VARCHAR(250) ,
                  "KICKOUT_STATUS" INTEGER ,
                  "COMMENT" VARCHAR(120) ,
                  "APPROVER_NAME" VARCHAR(30) ,
                  "RELEASE_COMMENT" VARCHAR(120) ,
                  "KICKOUT_USER" VARCHAR(11) ,
                  "RELEASE_USER" VARCHAR(11) ,
                  "UPDATE_TIMESTAMP" TIMESTAMP ,
                  "CREATE_TIMESTAMP" TIMESTAMP)
                 DATA CAPTURE CHANGES
                 IN "GALTBSREF12" INDEX IN "GALTBSIDX4";


-- DDL Statements for Primary Key on Table "GALADM  "."KICKOUT_TBX"

ALTER TABLE "GALADM  "."KICKOUT_TBX"
        ADD CONSTRAINT "KICKOUT_PK" PRIMARY KEY
                ("KICKOUT_ID");

-------------------------------
-- DDL Statements for Triggers
-------------------------------


SET SYSIBM.NLS_STRING_UNITS = 'SYSTEM';
SET CURRENT SCHEMA = "GALINST ";
SET CURRENT PATH = "SYSIBM","SYSFUN","SYSPROC","SYSIBMADM","GALINST";

DROP TRIGGER "GALADM  "."KICKOUT_TR1";

CREATE TRIGGER GALADM.KICKOUT_TR1 NO CASCADE BEFORE INSERT ON GALADM.KICKOUT_TBX
REFERENCING NEW AS A FOR EACH ROW SET CREATE_TIMESTAMP = CURRENT_TIMESTAMP;


SET SYSIBM.NLS_STRING_UNITS = 'SYSTEM';
SET CURRENT SCHEMA = "GALINST ";
SET CURRENT PATH = "SYSIBM","SYSFUN","SYSPROC","SYSIBMADM","GALINST";

DROP TRIGGER "GALADM  "."KICKOUT_TR2";

CREATE TRIGGER GALADM.KICKOUT_TR2 NO CASCADE BEFORE UPDATE ON GALADM.KICKOUT_TBX
REFERENCING NEW AS A FOR EACH ROW SET UPDATE_TIMESTAMP = CURRENT_TIMESTAMP;

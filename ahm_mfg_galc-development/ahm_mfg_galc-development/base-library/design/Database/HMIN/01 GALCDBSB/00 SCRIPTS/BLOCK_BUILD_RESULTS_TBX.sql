DROP ALIAS GALADM.HCM_BLOCK_BUILD_RESULTS_TBX;
DROP TRIGGER GALADM.BLOCK_BUILD_RESULTS_TR2;
DROP TRIGGER GALADM.BLOCK_BUILD_RESULTS_TR1;
DROP TABLE GALADM.BLOCK_BUILD_RESULTS_TBX;

CREATE TABLE GALADM.BLOCK_BUILD_RESULTS_TBX (
   BLOCK_ID	VARCHAR(17) NOT NULL,
   PART_NAME	VARCHAR(32) DEFAULT ' ' NOT NULL,
   ACTUAL_TIMESTAMP	TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
   RESULT_VALUE	VARCHAR(30),
   INSTALLED_PART_STATUS	INTEGER,
   ASSOCIATE_NO	VARCHAR(11),
   CREATE_TIMESTAMP	TIMESTAMP,
   UPDATE_TIMESTAMP	TIMESTAMP,
   CONSTRAINT BLOCK_BUILD_RESULTS_PK PRIMARY KEY
     (BLOCK_ID,PART_NAME)
)
  IN GALTBSREF12
  INDEX IN GALTBSIDX4;

ALTER TABLE GALADM.BLOCK_BUILD_RESULTS_TBX
  DATA CAPTURE CHANGES
  PCTFREE 0
  LOCKSIZE ROW
  APPEND OFF
  NOT VOLATILE;

COMMENT ON TABLE GALADM.BLOCK_BUILD_RESULTS_TBX IS 'RMT BlockBuildResult';
    
CREATE TRIGGER GALADM.BLOCK_BUILD_RESULTS_TR1
  NO CASCADE BEFORE INSERT
  ON GALADM.BLOCK_BUILD_RESULTS_TBX
  REFERENCING 
    NEW AS A
  FOR EACH ROW
SET CREATE_TIMESTAMP=CURRENT_TIMESTAMP;

CREATE TRIGGER GALADM.BLOCK_BUILD_RESULTS_TR2
  NO CASCADE BEFORE UPDATE
  ON GALADM.BLOCK_BUILD_RESULTS_TBX
  REFERENCING 
    NEW AS A
  FOR EACH ROW
SET UPDATE_TIMESTAMP=CURRENT_TIMESTAMP;

CREATE ALIAS GALADM.HCM_BLOCK_BUILD_RESULTS_TBX FOR BLOCK_BUILD_RESULTS_TBX;
COMMENT ON ALIAS GALADM.HCM_BLOCK_BUILD_RESULTS_TBX IS 'RMT alias to BLOCK_BUILD_RESULTS_TBX';
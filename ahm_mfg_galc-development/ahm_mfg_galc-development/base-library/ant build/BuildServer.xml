<?xml version="1.0"?>
<project name="Server Build" default="all" basedir=".">

	<property name="server.dir" value="/build/server"/>
	
	<target name = "all" depends = "OnlyEAR" description = "Complete Server Build">
		<tstamp/>
		<echo> Build All Finished  ${TSTAMP} on ${TODAY}</echo>
	</target>

	<!-- EAR and Property Only Targets -->
	<target name = "OnlyEAR" depends ="Compile" description = "Create EAR file from current Workspace">
		<tstamp/>
		<echo> EAR Creation has begun ${TSTAMP} on ${TODAY}</echo>
	 	<mkdir dir = "${server.dir}"/>
	  	<earExport EARProjectName="GALCApplication" EARExportFile="${server.dir}\Regional_GALC_Lot_Control_${version}_${buildLevel}_GALC_Server.ear" Overwrite="true"/>
		<tstamp/>
		<echo> GALC new server application creation  ended at ${TSTAMP} on ${TODAY}</echo>  
	</target>
	
	<target name =  "Compile" description="compile everything">
		 	<ant antfile ="${basedir}\sub_compile.xml"		target ="buildServer"/>
	</target>

</project>
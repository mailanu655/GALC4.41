<div class="custom-dialog-container">
<div class="dialog-header" fxLayout="row" fxLayoutAlign="space-between center">
  <h2 mat-dialog-title class="dialog-title">LC Factory News Configuration</h2>
  <div fxLayout="row" fxLayoutAlign="end center" class="header-buttons">
    <span class="username-display" *ngIf="userName">
      Logged In {{ userName }}
    </span>

     <button mat-icon-button class="logout-button" matTooltip="Logout" (click)="logout()">
      <mat-icon>logout</mat-icon>
    </button> 

    <button mat-icon-button class="close-button" [mat-dialog-close]="true" matTooltip="Close">
      <mat-icon class="close-icon" color="warn">close</mat-icon>
    </button>
  </div>
</div>

<div mat-dialog-content style="height: 90vh; width: 80vw;">
  <div *ngIf="loading" fxLayout="row" fxLayoutAlign="center center" style="height: 80%">
    <mat-spinner diameter="50" strokeWidth="5"></mat-spinner>
  </div>
  <mat-sidenav-container *ngIf="!loading" class="sidenav-container">
    <mat-sidenav mode="side" opened class="sidenav">
      <div class="tree-container">
        <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="example-tree">
          <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
            <li class="mat-tree-node" [ngClass]="getNodeStyle(node)">
              <button mat-icon-button class="hidden-button" disabled></button>
              <a (click)="onNodeSelected(node)" class="tree-node-link">
                <mat-icon class="tree-node-icon">insert_drive_file</mat-icon>
                {{ getNodeLabel(node) }} {{ getNodeDisplayName(node) }}
              </a>
            </li>
          </mat-tree-node>

          <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
            <li>
              <div class="mat-tree-node" [ngClass]="getNodeStyle(node)">
                <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'toggle ' + getNodeDisplayName(node)">
                  <mat-icon class="mat-icon-rtl-mirror">
                    {{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}
                  </mat-icon>
                </button>
                <a (click)="onNodeSelected(node)" class="tree-node-link">
                  <mat-icon class="tree-node-icon">insert_drive_file</mat-icon>
                  {{ getNodeLabel(node) }} {{ getNodeDisplayName(node) }}
                </a>
              </div>
              <ul [class.example-tree-invisible]="!treeControl.isExpanded(node)">
                <ng-container matTreeNodeOutlet></ng-container>
              </ul>
            </li>
          </mat-nested-tree-node>
        </mat-tree>
      </div>
    </mat-sidenav>

    <mat-sidenav-content class="sidenav-content">
      <app-config [node]="selectedNode"></app-config>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
</div>
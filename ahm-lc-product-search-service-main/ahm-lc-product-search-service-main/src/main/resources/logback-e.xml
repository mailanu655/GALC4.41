<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE xml>
<configuration scan="false" scanPeriod="10 seconds">

	<property resource="application.yml" />
	<springProperty scope="context" name="spring.application.name" source="spring.application.name" defaultValue="lc-issue-notification-vdb" />
	<springProperty scope="context" name="logging.email.to" source="logging.email.to" />
	<springProperty scope="context" name="logging.email.from" source="logging.email.from" />
	<property name="pattern" value="%d [%thread] %-5level %logger{36} - %msg%n" />

	<appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
		<encoder>
			<pattern>${pattern}</pattern>
		</encoder>
	</appender>
	<appender name="EMAIL" class="ch.qos.logback.classic.net.SMTPAppender">
		<smtpHost>smtp.amerhonda.com</smtpHost>
		<to>${logging.email.to}</to>
		<from>${logging.email.from}</from>
		<subject>ERROR FROM: ${spring.application.name}</subject>
		<layout class="ch.qos.logback.classic.PatternLayout">
			<pattern>${pattern}</pattern>
		</layout>
		<filter class="ch.qos.logback.classic.filter.ThresholdFilter">
			<level>ERROR</level>
		</filter>
	</appender>
	<root level="INFO">
		<appender-ref ref="STDOUT" />
		<appender-ref ref="EMAIL" />
	</root>
</configuration>
